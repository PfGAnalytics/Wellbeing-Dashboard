<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>PfG Dashboard</title>

    <link href="https://cdn.jsdelivr.net/gh/twbs/bootstrap@v4.5.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/FezVrasta/popper.js@v1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/twbs/bootstrap@v4.5.2/dist/js/bootstrap.min.js"></script>

    <script src="https://kit.fontawesome.com/ee3848f0f5.js" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/gh/DisseminationNI/PxWidget@1.1.6/js/isogram.min.js"></script>

    <!-- <script src = "script.js"></script> -->
    <script src = "domains_data.js"></script>
    

    <link rel ="stylesheet" href ="style.css">

</head>
<body>
    
    <div id="top-menu" class = "row">
        <img id = "top-menu-exec-logo" src = "img/Northern_Ireland_Executive_logo.svg">
        <h1>SEEDS of Wellbeing<br>in Northern Ireland</h1>
        <div id = "overall-btn" class = "top-menu-item"><i class = "fa fa-th-large"></i> Overall</div>
        <div id = "domains-btn" class = "top-menu-item selected-item"><span class = "fa-rotate-270" style = "display: inline-block;"><i class = "far fa-chart-bar fa-flip-vertical"></i></span></i> Domains</div>
        <div id = "maps-btn" class = "top-menu-item"><img id = "ni-icon" src = "img/noun-northern-ireland-1019239.svg" style = "width: 20px;"></i> Maps</div>
        <div id = "help-btn" class = "top-menu-item"><i class = "fa fa-question"></i> Help</div>
    </div>

    <div id = "indicators-intro">We have developed a set of indicators composed of Official and National Statistics. By looking at the evidence provided by these indicators, we can gain valuable insights into Northern Ireland's wellbeing, the areas where we are making progress, and where progress still needs to be made.</div>

    <div id = "main-container">

        <div id = "domains-scrn" class = "screen" style = "display:block;">
            <h2>Social, Economic & Environmental Domains</h2>
            <div id = "domain-intro">To capture the diverse elements that contribute to Northern Ireland's social, economic, and environmental wellbeing, we have identified nine strategic domains of wellbeing.</div>
            <div class = "row">
                <div style = "padding-left: 15px;">
                    <img src = "img/leaf.svg" width = "400px;">
                    <div id = "seeds-label">SEEDS of Wellbeing in Northern Ireland</div>
                </div>
                <div id = "domains-grid-container" style= "display: block;"></div>
                <div id = "domain-info" style = "display:none;">
                    <div id = "back-button">
                        <i class="fa-solid fa-arrow-left"></i> Back
                    </div>
                    <div class = "row">
                        <div class = "hex">
                            <div id = "clicked-hex" class = "hex-inner"></div>
                        </div>
                        <div id = "desc-container">
                            <div id = "clicked-desc" class = "blue-label"></div>
                        </div>
                    </div>
                </div>
                <div id = "click-to-see" style = "margin-top: 100px;">Click on a domain to see the indicators</div>
            </div>
        </div>

        <img id = "nisra-logo" src="img/NISRA-acronym-bilingual.svg">

    </div>    

</body>

<script>

    // Menu navigation function
    var top_menu_items = document.getElementsByClassName("top-menu-item");

    for (let i = 0; i < top_menu_items.length; i++) {

        top_menu_items[i].onclick = function() {

            for (let j = 0; j < top_menu_items.length; j++) {

                var clicked_id = document.getElementById(top_menu_items[j].id);

                if (document.getElementById(top_menu_items[i].id) == clicked_id) {
                    clicked_id.classList.add("selected-item");
                    clicked_id.firstChild.classList.add("selected-icon");
                } else {
                    clicked_id.classList.remove("selected-item");
                    clicked_id.firstChild.classList.remove("selected-icon");
                }

            }
        }

    }

    // Generate hex grid of domains
    var domains = Object.keys(domains_data);

    var domains_grid_container = document.getElementById("domains-grid-container");

    for (let i = 0; i < domains.length; i++) {

        if (i % 3 == 0) {
            var hex_row = document.createElement("div");
            hex_row.classList.add("row");
            hex_row.classList.add("hex-row");
            domains_grid_container.appendChild(hex_row)
        }

        var hex = document.createElement("div");
        var hex_inner = document.createElement("div");
        var label = document.createTextNode(domains[i]);

        hex.classList.add("hex");
        hex_inner.classList.add("hex-inner");
        hex_inner.appendChild(label);
        hex.appendChild(hex_inner);
        hex_row.appendChild(hex);

    }

    var hex_rows = document.getElementsByClassName("hex-row");

    for (let i = 0; i < hex_rows.length; i++) {
        if (i % 2 == 1) {
            hex_rows[i].style.marginLeft = "90px";
        }

        if (i > 0) {
            hex_rows[i].style.marginTop = "-25px";
        }
    }

    // Click on a domain
    var hexagons = document.getElementsByClassName("hex-inner");

    var domains_heading = document.getElementById("domains-scrn").getElementsByTagName("h2")[0];
    var indicators_intro = document.getElementById("indicators-intro");
    var domain_intro = document.getElementById("domain-intro");
    var domain_info = document.getElementById("domain-info");
    var clicked_hex = document.getElementById("clicked-hex");
    var click_to_see = document.getElementById("click-to-see");
    var clicked_desc = document.getElementById("clicked-desc");

    for (let i = 0; i < hexagons.length; i++) {

        hexagons[i].onclick = function() {

            domains_heading.style.display = "none";
            indicators_intro.style.display = "block";
            domain_intro.style.display = "none";
            domain_info.style.display = "block";
            domains_grid_container.style.display = "none";
            click_to_see.style.display = "none";

           clicked_hex.innerHTML = hexagons[i].innerHTML;

           clicked_desc.innerHTML = domains_data[hexagons[i].innerHTML].description;

        }

    }

    // Click back button
    var back_button = document.getElementById("back-button");

    back_button.onclick = function() {
        domains_heading.style.display = "block";
            indicators_intro.style.display = "none";
            domain_intro.style.display = "block";
            domain_info.style.display = "none";
            domains_grid_container.style.display = "block";
            click_to_see.style.display = "block";
    }

    

</script>

</html>